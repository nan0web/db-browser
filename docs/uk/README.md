# @nan0web/db-browser

–ö–ª—ñ—î–Ω—Ç –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ —è–∫ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è @nan0web/db

|–ù–∞–∑–≤–∞ –ø–∞–∫–µ—Ç—É|[–°—Ç–∞—Ç—É—Å](https://github.com/nan0web/monorepo/blob/main/system.md#–Ω–∞–ø–∏—Å–∞–Ω–Ω—è-—Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤)|–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è|–ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏|–§—ñ—á—ñ|–í–µ—Ä—Å—ñ—è npm|
|---|---|---|---|---|---|
|[@nan0web/db-browser](https://github.com/nan0web/db-browser/) |üü¢ `95.5%` |üß™ [English üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø](https://github.com/nan0web/db-browser/blob/main/README.md)<br />[–£–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é üá∫üá¶](https://github.com/nan0web/db-browser/blob/main/docs/uk/README.md) |üü° `74.2%` |‚úÖ d.ts üìú system.md üïπÔ∏è playground |‚Äî |

## –û–ø–∏—Å

–ü–∞–∫–µ—Ç `@nan0web/db-browser` –Ω–∞–¥–∞—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –±—Ä–∞—É–∑–µ—Ä–∞,
—Ä–æ–∑—à–∏—Ä—é—é—á–∏ –±–∞–∑–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å `@nan0web/db` HTTP‚Äë–æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏ –Ω–∞–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏.
–û—Å–Ω–æ–≤–Ω–∏–π –∫–ª–∞—Å:

- `DBBrowser` ‚Äî —É—Å–ø–∞–¥–∫–æ–≤—É—î DB —ñ –¥–æ–¥–∞—î —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ,
	—Ç–∞–∫—ñ —è–∫ –≤—ñ–¥–¥–∞–ª–µ–Ω–µ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ HTTP‚Äë–º–µ—Ç–æ–¥–∏
	(GET, POST, PUT, DELETE).

–¶–µ–π –ø–∞–∫–µ—Ç —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ –≤–µ–±‚Äë–¥–æ–¥–∞—Ç–∫—ñ–≤, —è–∫—ñ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å
–≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ –¥–∞–Ω–∏—Ö –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è, –ø–æ—Å–∏–ª–∞–Ω—å —Ç–∞ —ñ–Ω–¥–µ–∫—Å—É–≤–∞–Ω–Ω—è –∫–∞—Ç–∞–ª–æ–≥—ñ–≤.

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

–Ø–∫ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é npm?
```bash
npm install @nan0web/db-browser
```

–Ø–∫ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é pnpm?
```bash
pnpm add @nan0web/db-browser
```

–Ø–∫ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é yarn?
```bash
yarn add @nan0web/db-browser
```

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤

DBBrowser –ø—ñ–¥—Ç—Ä–∏–º—É—î –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä—ñ–≤ —ñ–∑ –ø–æ–≤–Ω–∏–º
—Ä–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è–º URI.

–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç?
```js
import DBBrowser from "@nan0web/db-browser"
const db = new DBBrowser({
	host: "https://api.example.com",
	root: "/data/"
})

const users = await db.fetch("users.json")
console.info(users)
// [
//   {"email":"alice@example.com","id":1,"name":"Alice"},
//   {"email":"bob@example.com","id":2,"name":"Bob"},
// ]
```

### –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤

–î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ POST‚Äë–∑–∞–ø–∏—Ç–∏.
–°–µ—Ä–≤–µ—Ä–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ –ø–æ–≤–∏–Ω–Ω–∞ –Ω–∞–¥–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π API.

–Ø–∫ –∑–±–µ—Ä–µ–≥—Ç–∏ –Ω–æ–≤–∏–π –¥–æ–∫—É–º–µ–Ω—Ç?
```js
import DBBrowser from "@nan0web/db-browser"
const db = new DBBrowser({
	host: "https://api.example.com",
	root: "/data/"
})

const result = await db.saveDocument("new-file.json", { test: "value" })
console.info("Save result:", result) // ‚Üê Save result: true
```

### –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤

–î–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–±–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—É —ñ—Å–Ω—É—é—á–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ PUT‚Äë–∑–∞–ø–∏—Ç–∏.

–Ø–∫ –æ–Ω–æ–≤–∏—Ç–∏ (–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç–∏) –¥–æ–∫—É–º–µ–Ω—Ç?
```js
import DBBrowser from "@nan0web/db-browser"
const db = new DBBrowser({
	host: "https://api.example.com",
	root: "/data/"
})

const data = [
	{ id: 1, name: "Alice Cooper", email: "alice@example.com" },
	{ id: 2, name: "Bob Marley", email: "bob@example.com" },
	{ id: 3, name: "Charlie Brown", email: "charlie@example.com" }
]

const result = await db.writeDocument("users.json", data)
console.info("Write result:", result) // ‚Üê Write result: { written: true }
```

### –í–∏–¥–∞–ª–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤

–î–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ DELETE‚Äë–∑–∞–ø–∏—Ç–∏.

–Ø–∫ –≤–∏–¥–∞–ª–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç?
```js
import DBBrowser from "@nan0web/db-browser"
const db = new DBBrowser({
	host: "https://api.example.com",
	root: "/data/"
})

const result = await db.dropDocument("new-file.json")
console.info("Drop result:", result) // ‚Üê Drop result: true
```

### –ß–∏—Ç–∞–Ω–Ω—è –∫–∞—Ç–∞–ª–æ–≥—É

DBBrowser –ø—ñ–¥—Ç—Ä–∏–º—É—î —á–∏—Ç–∞–Ω–Ω—è –≤–º—ñ—Å—Ç—É –∫–∞—Ç–∞–ª–æ–≥—ñ–≤ —Ç–∞ —Ä–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è –≤—ñ–¥–Ω–æ—Å–Ω–∏—Ö —à–ª—è—Ö—ñ–≤.

–Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤–º—ñ—Å—Ç –∫–∞—Ç–∞–ª–æ–≥—É?
```js
import DBBrowser from "@nan0web/db-browser"
const db = new DBBrowser({
	host: "https://api.example.com",
	root: "/data/"
})

const entries = []
for await (const entry of db.readDir(".")) {
	entries.push(entry.name)
}
console.info("Directory entries:", entries)
// Directory entries: ["users.json", "posts/first.json"]
```

### –ü–æ—à—É–∫ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤

–ü—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –ø–æ—à—É–∫ —É —Å—Ç–∏–ª—ñ glob –ø–æ –≤—ñ–¥–¥–∞–ª–µ–Ω—ñ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ.

–Ø–∫ –∑–Ω–∞–π—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏?
```js
import DBBrowser from "@nan0web/db-browser"

const db = new DBBrowser({
	host: "https://api.example.com",
	root: "/data/"
})

const entries = []
for await (const uri of db.find(uri => uri.endsWith(".json"))) {
	entries.push(uri)
}
console.info("Found JSON files:", entries)
// Found JSON files: ["/data/users.json", "/data/posts/first.json"]
```

### –í–∏–¥—ñ–ª–µ–Ω–Ω—è –ø—ñ–¥–º–Ω–æ–∂–∏–Ω–∏

–°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä DBBrowser, –∫–æ—Ä–µ–Ω–µ–º —è–∫–æ–≥–æ —î –ø–µ–≤–Ω–∏–π –ø—ñ–¥–∫–∞—Ç–∞–ª–æ–≥.

–Ø–∫ –≤–∏–¥—ñ–ª–∏—Ç–∏ –ø—ñ–¥–º–Ω–æ–∂–∏–Ω—É –±–∞–∑–∏ –¥–∞–Ω–∏—Ö?
```js
import DBBrowser from "@nan0web/db-browser"
const db = new DBBrowser({
	host: "https://api.example.com",
	root: "/data/"
})

const subDB = db.extract("posts/")
console.info("Subset root:", subDB.root) // ‚Üê Subset root: data/posts/
console.info("Subset instanceof DBBrowser:", subDB instanceof DBBrowser)
// Subset instanceof DBBrowser: true

```

## API

### DBBrowser

–†–æ–∑—à–∏—Ä—é—î `@nan0web/db`.

* **–°—Ç–∞—Ç–∏—á–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ**
	* `FetchFn` ‚Äì –°—Ç–∞—Ç–∏—á–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è fetch, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ,
		—è–∫—â–æ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥—ñ–ª–µ–Ω–∞ –≤ —ñ–Ω—Å—Ç–∞–Ω—Ü—ñ—ó.

* **–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —ñ–Ω—Å—Ç–∞–Ω—Ü—ñ—ó**
	* `host` ‚Äì –ë–∞–∑–æ–≤–∏–π URL —Ö–æ—Å—Ç—É.
	* `timeout` ‚Äì –ß–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º (–º—Å).
	* `fetchFn` ‚Äì –û–±—Ä–æ–±–Ω–∏–∫ fetch –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ñ–Ω—Å—Ç–∞–Ω—Å—É.

* **–ú–µ—Ç–æ–¥–∏**
	* `ensureAccess(uri, level)` ‚Äì –ü–µ—Ä–µ–≤—ñ—Ä—è—î —Ä–µ–∂–∏–º –¥–æ—Å—Ç—É–ø—É –¥–ª—è URI.
	* `fetchRemote(uri, requestInit)` ‚Äì –í–∏–∫–æ–Ω—É—î –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π fetch –∑ –æ–±—Ä–æ–±–∫–æ—é —Ç–∞–π–º‚Äë–∞—É—Ç—É.
	* `load()` ‚Äì –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –∫–æ—Ä–µ–Ω–µ–≤–∏–π —ñ–Ω–¥–µ–∫—Å.
	* `statDocument(uri)` ‚Äì –û—Ç—Ä–∏–º—É—î –º–µ—Ç–∞–¥–∞–Ω—ñ —á–µ—Ä–µ–∑ HEAD‚Äë–∑–∞–ø–∏—Ç.
	* `loadDocument(uri, defaultValue)` ‚Äì –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —Ç–∞ –ø–∞—Ä—Å–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç.
	* `saveDocument(uri, document)` ‚Äì –°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π —Ñ–∞–π–ª –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é POST.
	* `writeDocument(uri, document)` ‚Äì –û–Ω–æ–≤–ª—é—î/–ø–µ—Ä–µ–∑–∞–ø–∏—Å—É—î —Ñ–∞–π–ª –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é PUT.
	* `dropDocument(uri)` ‚Äì –í–∏–¥–∞–ª—è—î —Ñ–∞–π–ª –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é DELETE.
	* `extract(uri)` ‚Äì –°—Ç–≤–æ—Ä—é—î –Ω–æ–≤—É –ø—ñ–¥‚Äë–ë–î, –∫–æ—Ä–µ–Ω–µ–º —è–∫–æ—ó —î –∑–∞–∑–Ω–∞—á–µ–Ω–∏–π URI.
	* `readDir(uri)` ‚Äì –ß–∏—Ç–∞—î –≤–º—ñ—Å—Ç –∫–∞—Ç–∞–ª–æ–≥—É –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —ñ–Ω–¥–µ–∫—Å—É.
	* `static from(input)` ‚Äì –°—Ç–≤–æ—Ä—é—î —ñ–Ω—Å—Ç–∞–Ω—Ü—ñ—é –∞–±–æ –ø–æ–≤–µ—Ä—Ç–∞—î –≤–∂–µ —ñ—Å–Ω—É—é—á—É.

–í—Å—ñ –µ–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ –∫–ª–∞—Å–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø—Ä–æ—Ö–æ–¥–∏—Ç–∏ –±–∞–∑–æ–≤—ñ —Ç–µ—Å—Ç–∏, —â–æ–± –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏
–∫–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ API.

## JavaScript

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `.d.ts` —Ñ–∞–π–ª–∏ –¥–ª—è –∞–≤—Ç–æ–¥–æ–ø–æ–≤–Ω–µ–Ω–Ω—è.

## CLI Playground

–Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–µ–º–æ‚Äë—Å–∫—Ä–∏–ø—Ç DBBrowser?
```bash
git clone https://github.com/nan0web/db-browser.git
cd db-browser
npm install
npm run play
```

## –í–Ω–µ—Å–µ–Ω–Ω—è –≤–Ω–µ—Å–∫—ñ–≤

–Ø–∫ –¥–æ–ø–æ–º–æ–≥—Ç–∏? ‚Äì [–¥–∏–≤—ñ—Ç—å—Å—è —Ç—É—Ç](./CONTRIBUTING.md)

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

–Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª—ñ—Ü–µ–Ω–∑—ñ—é ISC? ‚Äì [–¥–∏–≤—ñ—Ç—å—Å—è —Ç—É—Ç](./LICENSE)
